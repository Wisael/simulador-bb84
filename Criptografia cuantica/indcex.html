<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Simulaci√≥n BB84 Interactiva Mejorada</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  /* Fuente y fondo general */
  body {
    font-family: 'Segoe UI', Arial, sans-serif;
    background: linear-gradient(to bottom, #0B1E3D, #142A4F);
    padding: 20px;
    color: #E0F7FA;
    text-align: center;
    position: relative;
    overflow-x: hidden;
  }

  /* Fondo animado cu√°ntico */
  body::before {
    content: "";
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: radial-gradient(circle at center, rgba(0,229,255,0.1), transparent 70%);
    animation: pulseGlow 6s infinite ease-in-out;
    z-index: -1;
  }

  @keyframes pulseGlow {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.6; }
  }

  h2, h3, h4 {
    margin-bottom: 10px;
    color: #00E5FF;
    text-shadow: 0 0 8px #00E5FF;
  }

  .legend {
    display: flex;
    justify-content: center;
    gap: 25px;
    margin: 10px auto 30px;
    flex-wrap: wrap;
  }

  .legend-item {
    display: flex;
    align-items: center;
    font-size: 14px;
    color: #E0F7FA;
  }

  .legend-color {
    width: 15px;
    height: 15px;
    border-radius: 50%;
    margin-right: 6px;
    border: 1px solid #00E5FF;
  }

  .azul    { background-color: #2979FF; }
  .amarillo{ background-color: #FFEB3B; }
  .rojo    { background-color: #FF5252; }
  .verde   { background-color: #00E676; }

  .panel {
    margin-bottom: 20px;
  }

  .info {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-bottom: 10px;
    flex-wrap: wrap;
    color: #E0F7FA;
  }

  .info div {
    font-weight: bold;
    font-size: 18px;
  }

  #canal {
    position: relative;
    height: 120px;
    border: 2px dashed #00B8D4;
    background: #0A192F;
    margin: 0 auto 20px;
    width: 90%;
    overflow: hidden;
  }

  .qubit {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    position: absolute;
    top: 45px;
    left: 10px;
    transition: left 2s linear;
  }

  .interceptado {
    border: 2px dashed #7C4DFF;
  }

  table {
    margin: 20px auto;
    border-collapse: collapse;
    width: 95%;
    background: #0A192F;
    color: #E0F7FA;
  }

  th, td {
    border: 1px solid #2979FF;
    padding: 6px;
    font-size: 13px;
  }

  th {
    background-color: #142A4F;
  }

  .explicacion {
    text-align: left;
    max-width: 800px;
    margin: 10px auto;
    background: #0A192F;
    padding: 10px;
    border-left: 4px solid #00B8D4;
    color: #E0F7FA;
    box-shadow: 0 0 12px rgba(0,229,255,0.2);
  }

  section {
    max-width: 900px;
    margin: 40px auto;
    text-align: left;
    background: #0A192F;
    padding: 20px;
    border-left: 5px solid #2979FF;
    color: #E0F7FA;
    box-shadow: 0 0 12px rgba(0,229,255,0.2);
  }

  ul, ol {
    margin-left: 20px;
  }

  .teoria-container {
    max-width: 900px;
    margin: 50px auto;
    padding: 30px;
    background: #0A192F;
    border-radius: 16px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    border-left: 6px solid #00B8D4;
    color: #E0F7FA;
  }

  .teoria-container h2 {
    text-align: center;
    font-size: 28px;
    color: #00E5FF;
    margin-bottom: 30px;
    text-shadow: 0 0 8px #00E5FF;
  }

  .acordeon {
    background: #142A4F;
    border-radius: 8px;
    margin-bottom: 20px;
    border: 1px solid #2979FF;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .acordeon summary {
    cursor: pointer;
    padding: 18px 24px;
    font-size: 18px;
    font-weight: 600;
    color: #00E5FF;
    background: linear-gradient(to right, #142A4F, #0B1E3D);
    border-bottom: 1px solid #2979FF;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: background 0.3s ease;
  }

  .acordeon summary:hover {
    background: linear-gradient(to right, #1E3A5F, #0B1E3D);
    color: #7C4DFF;
  }

  .acordeon summary::after {
    content: "‚ûï";
    font-size: 18px;
    color: #00E5FF;
    transition: transform 0.3s ease;
  }

  .acordeon[open] summary::after {
    content: "‚ûñ";
    transform: rotate(180deg);
  }

  .contenido {
    padding: 20px 24px;
    font-size: 16px;
    background: #0B1E3D;
    animation: fadeIn 0.4s ease-in-out;
    border-top: 1px solid #2979FF;
    line-height: 1.7;
    color: #E0F7FA;
  }

  .contenido ul {
    padding-left: 24px;
    list-style-type: disc;
    margin-top: 12px;
  }

  .contenido li {
    margin-bottom: 10px;
  }

  button {
    background-color: #00B8D4;
    color: #0B1E3D;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    font-weight: bold;
    box-shadow: 0 0 10px rgba(0,229,255,0.4);
    transition: all 0.3s ease;
  }

  button:hover {
    background-color: #7C4DFF;
    color: #E0F7FA;
    box-shadow: 0 0 14px rgba(124,77,255,0.6);
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @media (max-width: 600px) {
    .info { flex-direction: column; gap: 10px; }
    table, th, td { font-size: 11px; }
    button { padding: 10px 20px; font-size: 16px; }
    .legend { flex-direction: column; gap: 8px; }
    .teoria-container { padding: 20px; }
    .teoria-container h2 { font-size: 22px; }
    .acordeon summary { font-size: 16px; padding: 14px 18px; }
    .contenido { font-size: 15px; padding: 16px 18px; }
    .acordeon summary::after { font-size: 16px; }
  }
</style>

</head>
<body>
  <h2>üîê Simulaci√≥n BB84 con Bob y Detecci√≥n de Eve</h2>

  <div class="legend">
    <div class="legend-item"><span class="legend-color azul"></span> Eje Z, bit 0</div>
    <div class="legend-item"><span class="legend-color amarillo"></span> Eje Z, bit 1</div>
    <div class="legend-item"><span class="legend-color rojo"></span> Eje X, bit 0</div>
    <div class="legend-item"><span class="legend-color verde"></span> Eje X, bit 1</div>
  </div>

  <div class="panel">
    <label><input type="checkbox" id="eveToggle"> Activar intervenci√≥n de Eve</label>
    <br><br>
    <button onclick="enviarQubit()" id="enviarBtn">üöÄ Enviar Qubit</button>
    <button onclick="reiniciarSimulacion()" id="reiniciarBtn">üîÑ Reiniciar Simulaci√≥n</button>
  </div>

  <div class="info">
    <div id="ejeInfo">Eje: ‚Äî</div>
    <div id="bitInfo">Bit: ‚Äî</div>
    <div id="qubitInfo">Qubit: ‚Äî</div>
  </div>

  <div id="canal"></div>
  <div id="tablaResumen"></div>

  <!-- Secci√≥n te√≥rica con vi√±etas -->
  <section id="teoria-expandida" class="teoria-container">
  <h2>üìö Fundamentos te√≥ricos</h2>

  <details class="acordeon">
    <summary>üß† Computaci√≥n cu√°ntica</summary>
    <div class="contenido">
      <p>
        La computaci√≥n cu√°ntica es un paradigma que aprovecha fen√≥menos de la mec√°nica cu√°ntica para procesar informaci√≥n. A diferencia de los bits cl√°sicos, los qubits pueden representar m√∫ltiples estados simult√°neamente, lo que permite realizar c√°lculos en paralelo. Adem√°s, el entrelazamiento cu√°ntico permite correlaciones instant√°neas entre qubits, lo que abre nuevas posibilidades en procesamiento y comunicaci√≥n. Algunos algoritmos cu√°nticos, como los de Shor y Grover, demuestran ventajas significativas frente a sus equivalentes cl√°sicos.
      </p>
      <ul>
        <li>Utiliza <strong>qubits</strong> que pueden estar en m√∫ltiples estados simult√°neamente (superposici√≥n).</li>
        <li>El <strong>entrelazamiento cu√°ntico</strong> permite correlaciones entre qubits a distancia.</li>
        <li>El <strong>algoritmo de Shor</strong> puede romper cifrados cl√°sicos como RSA.</li>
        <li>El <strong>algoritmo de Grover</strong> acelera b√∫squedas en bases de datos no estructuradas.</li>
      </ul>
    </div>
  </details>

  <details class="acordeon">
    <summary>üîê Criptograf√≠a cl√°sica para redes</summary>
    <div class="contenido">
      <p>
        La criptograf√≠a cl√°sica protege la informaci√≥n mediante algoritmos matem√°ticos que requieren gran poder computacional para ser vulnerados. Estos sistemas, como RSA y ECC, se basan en problemas dif√≠ciles como la factorizaci√≥n de n√∫meros grandes o el logaritmo discreto. Se implementan en protocolos de seguridad como SSL/TLS y VPN para garantizar la confidencialidad y autenticidad de los datos. Sin embargo, su seguridad depende de la incapacidad de resolver estos problemas eficientemente, lo cual podr√≠a cambiar con la llegada de computadoras cu√°nticas.
      </p>
      <ul>
        <li>Protege datos con algoritmos como <strong>RSA</strong>, <strong>ECC</strong> y <strong>AES</strong>.</li>
        <li>Utiliza protocolos como <strong>SSL/TLS</strong>, <strong>IPsec</strong> y <strong>VPN</strong>.</li>
        <li>Se basa en problemas matem√°ticos dif√≠ciles de resolver computacionalmente.</li>
        <li>Es <strong>vulnerable ante computadoras cu√°nticas</strong> que pueden romper estos esquemas.</li>
      </ul>
    </div>
  </details>

  <details class="acordeon">
    <summary>üß¨ Criptograf√≠a cu√°ntica</summary>
    <div class="contenido">
      <p>
        La criptograf√≠a cu√°ntica utiliza principios f√≠sicos para garantizar la seguridad de la informaci√≥n. En lugar de basarse en problemas matem√°ticos, se apoya en propiedades como la superposici√≥n y el colapso de estado al ser medido. El protocolo BB84, por ejemplo, permite detectar intentos de espionaje porque cualquier observaci√≥n de un qubit altera su estado. Esto hace que la criptograf√≠a cu√°ntica sea resistente incluso ante ataques realizados por computadoras cu√°nticas, ya que la seguridad est√° respaldada por leyes fundamentales de la f√≠sica.
      </p>
      <ul>
        <li>Basada en <strong>principios f√≠sicos</strong> de la mec√°nica cu√°ntica, no en problemas matem√°ticos.</li>
        <li>El <strong>protocolo BB84</strong> permite detectar intentos de espionaje durante la transmisi√≥n de claves.</li>
        <li>La intervenci√≥n altera el estado del qubit, lo que puede ser detectado por el receptor.</li>
        <li>Es segura incluso ante <strong>computadoras cu√°nticas futuras</strong>.</li>
      </ul>
    </div>
  </details>
</section>
  <!-- Proyecto completo -->
  <section id="teoria">
    <h2>üìò Proyecto: Seguridad digital del futuro</h2>

    <h3>1. Contexto y antecedentes</h3>
    <ul>
      <li>Digitalizaci√≥n depende de RSA y ECC.</li>
      <li>Computaci√≥n cu√°ntica amenaza estos sistemas.</li>
      <li>Se requieren nuevas estrategias de protecci√≥n.</li>
    </ul>

    <h4>Actores involucrados:</h4>
    <ul>
      <li>Ciudadanos, instituciones, gobiernos, desarrolladores, educadores.</li>
    </ul>

    <h4>Marco te√≥rico:</h4>
    <ul>
      <li>Computaci√≥n cu√°ntica, criptograf√≠a cl√°sica y post-cu√°ntica, protocolos de seguridad, BB84.</li>
    </ul>

    <h3>2. Identificaci√≥n del problema</h3>
    <ul>
      <li>Computadoras cu√°nticas pueden romper cifrados cl√°sicos.</li>
      <li>Falta de preparaci√≥n institucional y social.</li>
      <li>Globalizaci√≥n amplifica riesgos.</li>
    </ul>

    <h4>Indicadores sociales:</h4>
    <ul>
      <li>Cifrado obsoleto, conocimiento p√∫blico, brechas regionales, presencia de protocolos post-cu√°nticos.</li>
    </ul>

    <h3>3. An√°lisis de causa</h3>
    <ul>
      <li>Infraestructura vulnerable, falta de capacitaci√≥n, amenazas externas, marcos legales desactualizados.</li>
    </ul>

    <h3>4. Actores clave</h3>
    <ul>
      <li><strong>Gobiernos:</strong> regulaci√≥n y soberan√≠a digital.</li>
      <li><strong>Empresas:</strong> innovaci√≥n y competitividad.</li>
      <li><strong>Ciudadanos:</strong> privacidad y acceso seguro.</li>
      <li><strong>Investigadores:</strong> desarrollo de soluciones post-cu√°nticas.</li>
      <li><strong>ONGs:</strong> alfabetizaci√≥n digital y concienciaci√≥n.</li>
    </ul>

    <h3>5. Recomendaciones y plan de acci√≥n</h3>
    <ul>
      <li>Implementar estrategia hacia criptograf√≠a post-cu√°ntica.</li>
      <li>Diagn√≥stico de vulnerabilidades y conocimiento.</li>
      <li>Formaci√≥n t√©cnica en criptograf√≠a post-cu√°ntica y computaci√≥n cu√°ntica.</li>
      <li>Migraci√≥n progresiva a algoritmos resistentes.</li>
      <li>Campa√±as educativas diferenciadas seg√∫n p√∫blico objetivo.</li>
      <li>Creaci√≥n de un observatorio de riesgos cu√°nticos y ciberseguridad.</li>
    </ul>

    <h4>M√©tricas de √©xito:</h4>
    <ul>
      <li>Aumento en adopci√≥n de protocolos post-cu√°nticos.</li>
      <li>Reducci√≥n de incidentes de seguridad por cifrado obsoleto.</li>
      <li>Mejora en niveles de conocimiento t√©cnico.</li>
      <li>Organizaciones que migran su infraestructura de seguridad.</li>
    </ul>

    
  </section>

  <!-- Script del simulador -->
  <script>
    let qubitsEnviados = 0;
    const maxQubits = 10;
    const resumen = [];

    function generarBit() {
      return Math.random() < 0.5 ? 0 : 1;
    }

    function generarEje() {
      return Math.random() < 0.5 ? 'Z' : 'X';
    }

    function obtenerColor(eje, bit) {
      if (eje === 'Z') return bit === 0 ? 'azul' : 'amarillo';
      return bit === 0 ? 'rojo' : 'verde';
    }

    function medirQubit(ejeOriginal, bitOriginal, ejeBob) {
      return ejeOriginal === ejeBob ? bitOriginal : generarBit();
    }

    function enviarQubit() {
      if (qubitsEnviados >= maxQubits) return;

      const canal = document.getElementById("canal");
      const eveActiva = document.getElementById("eveToggle").checked;

      const ejeAlice = generarEje();
      const bitAlice = generarBit();
      const colorAlice = obtenerColor(ejeAlice, bitAlice);

      document.getElementById("ejeInfo").innerText = `Eje: ${ejeAlice}`;
      document.getElementById("bitInfo").innerText = `Bit: ${bitAlice}`;
      document.getElementById("qubitInfo").innerText = `Qubit: ${colorAlice}`;

      const qubit = document.createElement("div");
      qubit.classList.add("qubit", colorAlice);

      let mensaje = `üß¨ Alice env√≠a qubit (bit ${bitAlice}, eje ${ejeAlice}).`;

      let eveIntervino = false;
      let ejeEve, bitEve, colorFinal, bitFinal, ejeFinal;
      ejeFinal = ejeAlice;
      bitFinal = bitAlice;
      colorFinal = colorAlice;

      if (eveActiva && Math.random() < 0.5) {
        eveIntervino = true;
        ejeEve = generarEje();
        bitEve = ejeEve === ejeAlice ? bitAlice : generarBit();
        colorFinal = obtenerColor(ejeEve, bitEve);
        bitFinal = bitEve;
        ejeFinal = ejeEve;
        qubit.classList.add("interceptado");
        mensaje += ` üëÄ Eve intercepta (eje ${ejeEve}, bit ${bitEve}).`;
      }

      canal.appendChild(qubit);
      setTimeout(() => qubit.style.left = "90%", 100);

      const ejeBob = generarEje();
      const bitBob = medirQubit(ejeFinal, bitFinal, ejeBob);
      const coincide = ejeFinal === ejeBob;
      const discrep = coincide && (bitBob !== bitAlice);

      mensaje += ` üß™ Bob mide (eje ${ejeBob}) y obtiene bit ${bitBob}.`;
      mensaje += coincide
        ? (discrep
            ? ` ‚ö†Ô∏è ¬°Discrepancia detectada!`
            : ` ‚úÖ Bit v√°lido.`)
        : ` ‚ùå Bases distintas, descartado.`;

      const divExp = document.createElement("div");
      divExp.className = "explicacion";
      divExp.innerText = mensaje;
      document.body.appendChild(divExp);

      resumen.push({
        num: qubitsEnviados + 1,
        ejeAlice, bitAlice, colorAlice,
        eveIntervino, ejeEve, bitEve, colorFinal,
        ejeBob, bitBob, coincide, bitValido: coincide, discrep
      });

      qubitsEnviados++;
      if (qubitsEnviados >= maxQubits) {
        document.getElementById("enviarBtn").disabled = true;
        mostrarResumen();
      }
    }

    function mostrarResumen() {
      let html = `
        <h3>üìä Resumen de Qubits con Medici√≥n de Bob</h3>
        <table>
          <tr>
            <th>#</th><th>Eje Alice</th><th>Bit Alice</th><th>Color</th>
            <th>Eve?</th><th>Eje Eve</th><th>Bit Eve</th><th>Color Final</th>
            <th>Eje Bob</th><th>Bit Bob</th><th>Coinciden</th><th>V√°lido</th><th>Discrep.</th>
          </tr>`;
      let discrepancias = 0, coincidencias = 0;

      resumen.forEach(q => {
        html += `
          <tr>
            <td>${q.num}</td>
            <td>${q.ejeAlice}</td>
            <td>${q.bitAlice}</td>
            <td>${q.colorAlice}</td>
            <td>${q.eveIntervino ? 'S√≠' : 'No'}</td>
            <td>${q.eveIntervino ? q.ejeEve : '‚Äî'}</td>
            <td>${q.eveIntervino ? q.bitEve : '‚Äî'}</td>
            <td>${q.colorFinal}</td>
            <td>${q.ejeBob}</td>
            <td>${q.bitBob}</td>
            <td>${q.coincide ? '‚úîÔ∏è' : '‚ùå'}</td>
            <td>${q.bitValido ? '‚úîÔ∏è' : '‚Äî'}</td>
            <td>${q.discrep ? '‚ö†Ô∏è' : '‚Äî'}</td>
          </tr>`;
        if (q.coincide) coincidencias++;
        if (q.discrep) discrepancias++;
      });

      html += `</table>`;

      if (coincidencias > 0) {
        const tasa = Math.round((discrepancias / coincidencias) * 100);
        html += `<p><strong>üîç Tasa de error:</strong> ${tasa}%</p>`;
        html += tasa > 25
          ? `<p style="color:red;"><strong>‚ö†Ô∏è Espionaje detectado</strong></p>`
          : `<p style="color:green;"><strong>‚úÖ Comunicaci√≥n segura</strong></p>`;
      }

      document.getElementById("tablaResumen").innerHTML = html;
    }

    function reiniciarSimulacion() {
      qubitsEnviados = 0;
      resumen.length = 0;
      document.getElementById("canal").innerHTML = "";
      document.getElementById("tablaResumen").innerHTML = "";
      document.getElementById("ejeInfo").innerText = "Eje: ‚Äî";
      document.getElementById("bitInfo").innerText = "Bit: ‚Äî";
      document.getElementById("qubitInfo").innerText = "Qubit: ‚Äî";
      document.getElementById("enviarBtn").disabled = false;
      document.querySelectorAll(".explicacion").forEach(e => e.remove());
    }
  </script>
</body>
</html>